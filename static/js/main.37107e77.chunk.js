(this["webpackJsonpbashamayim-hi"]=this["webpackJsonpbashamayim-hi"]||[]).push([[0],{115:function(e,t,a){e.exports=a.p+"static/media/cloudbackgroundRed2.f597f276.png"},116:function(e,t,a){e.exports={Modal:"Modal_Modal__2PU8i"}},119:function(e,t,a){e.exports=a(319)},124:function(e,t,a){},125:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},126:function(e,t,a){},313:function(e){e.exports=JSON.parse('{"general":{"screen":{"width":"","height":""}},"block":{"color":"","textColor":""},"easy":{"blockFreq":{},"powerUps":{"spring":40,"springBoots":120,"orbBack":30,"orbForward":35},"blockTypeFreq":{"sideways":5,"rising":5},"wordTypeFreq":{"spike":20}},"hard":{"blockTypeFreq":{"sideways":5,"rising":5},"powerUps":{"spring":40,"springBoots":120,"orbBack":30,"orbForward":35},"wordTypeFreq":{"spike":25}}}')},314:function(e,t,a){e.exports={scrollable_menu:"GameCustomText_scrollable_menu__2suWw"}},319:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(114),i=a.n(n),o=(a(124),a(1)),l=(a(125),a(126),a(4)),d=a(22),h=a(43),c=a(42),u=function(){function e(){Object(l.a)(this,e),this.stripCantillation=function(e){return e.replace(/[\u0591-\u05AF\u05c0]|\(\u05e4\)|\(\u05e1\)|\[(.*?)]/g,"").split(/[\s\u05BE]+/)}}return Object(d.a)(e,[{key:"removeHTML",value:function(e){return e.map((function(e){return e.replace(/<\s*a[^>]*>(.*?)<\s*\/\s*a>/g,"").replace(/<[^>]*>/g,"")}))}},{key:"stripVowels",value:function(e){return e.replace(/[\u0591-\u05C7]/g,"")}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),r=[e[a],e[t]];e[t]=r[0],e[a]=r[1]}}}]),e}(),p=function e(){var t=this;Object(l.a)(this,e),this.screenHeight=window.screen.height-125,this.screenWidth=this.screenHeight*(5/8),this.roundedRect=function(e,t,a,r,s,n){e.beginPath(),e.moveTo(t,a+n),e.lineTo(t,a+s-n),e.arcTo(t,a+s,t+n,a+s,n),e.lineTo(t+r-n,a+s),e.arcTo(t+r,a+s,t+r,a+s-n,n),e.lineTo(t+r,a+n),e.arcTo(t+r,a,t+r-n,a,n),e.lineTo(t+n,a),e.arcTo(t,a,t,a+n,n),e.fill(),e.stroke()},this.downwardTriangle=function(e,t,a,r,s){e.beginPath(),e.moveTo(t,a),e.lineTo(t+s,a+r),e.lineTo(t+2*s,a),e.fill()},this.adjustY=function(e){return e/800*t.screenHeight},this.adjustX=function(e){return e/600*t.screenWidth}},f=new p,g=function e(t,a,r,s,n,i,o,d){var h=this;Object(l.a)(this,e),this.width=f.adjustX(125),this.height=f.adjustY(25),this.directionH="right",this.directionV="down",this.riseCount=0,this.passedText=!1,this.highlight=!1,this.moveTime=10,this.broken=!1,this.color="#00bfff",this.killed=!1,this.draw=function(e){e.fillStyle=h.color,h.passedText?(h.color="#0a13ff",e.fillStyle=h.color):h.last?(h.color="#a38841",e.fillStyle=h.color):h.highlight&&(h.color="#5EFF16",e.fillStyle=h.color),f.roundedRect(e,h.x,h.y,h.width,h.height,f.adjustX(5),"black"),e.font="bold "+f.adjustX(22)+"px'BlinkMacSystemFont','Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue'",e.fillStyle="white","#5EFF16"===h.color&&(e.fillStyle="#090524"),e.textAlign="center",e.fillText(h.word,h.x+h.width/2,h.y+h.height/4*3),"spring"===h.powerup?(e.fillStyle="grey",e.fillRect(h.x+f.adjustX(35),h.y-f.adjustY(10),f.adjustX(30),f.adjustY(10))):"springBoots"===h.powerup?(e.fillStyle="blue",e.fillRect(h.x+f.adjustX(55),h.y-f.adjustY(25),f.adjustX(15),f.adjustY(10)),e.fillRect(h.x+f.adjustX(35),h.y-f.adjustY(25),f.adjustX(15),f.adjustY(10)),e.fillStyle="grey",e.fillRect(h.x+f.adjustX(55),h.y-f.adjustY(15),f.adjustX(15),f.adjustY(15)),e.fillRect(h.x+f.adjustX(35),h.y-f.adjustY(15),f.adjustX(15),f.adjustY(15))):"orbBackward"==h.powerup?(e.beginPath(),e.arc(h.x+h.width/2,h.y-f.adjustY(15),10,0,2*Math.PI),e.fillStyle="white",e.fill(),e.stroke()):"orbForward"==h.powerup?(e.beginPath(),e.arc(h.x+h.width/2,h.y-f.adjustY(15),10,0,2*Math.PI),e.fillStyle="#5EFF16",e.fill(),e.stroke()):"spike"==h.wordType&&(e.fillStyle="grey",f.downwardTriangle(e,h.x+f.adjustX(.2*h.width),h.y+h.height,f.adjustY(15),f.adjustY(15)),f.downwardTriangle(e,h.x+f.adjustX(.6*h.width),h.y+h.height,f.adjustY(15),f.adjustY(15)),f.downwardTriangle(e,h.x+f.adjustX(1*h.width),h.y+h.height,f.adjustY(15),f.adjustY(15)))},this.update=function(){"sideways"===h.type?(h.x>=f.screenWidth-h.width?h.directionH="left":h.x<=0&&(h.directionH="right"),"right"===h.directionH?h.x+=f.adjustX(2.5):h.x-=f.adjustX(2.5)):"rising"===h.type&&("down"===h.directionV&&70===h.riseCount?(h.directionV="up",h.riseCount=0):"up"===h.directionV&&70===h.riseCount&&(h.directionV="down",h.riseCount=0),h.riseCount=h.riseCount+1,"down"===h.directionV?h.y+=f.adjustX(1.25):h.y-=f.adjustX(1.25)),"spike"===h.wordType&&("right"===h.directionH?(h.x+=f.adjustX(1),h.moveTime-=1,0===h.moveTime&&(h.directionH="left",h.moveTime=10)):(h.x-=f.adjustX(1),h.moveTime-=1,0===h.moveTime&&(h.directionH="right",h.moveTime=10)))},this.x=t,this.y=a,this.powerup=r,this.type=s,this.word=n,this.wordType=i,this.wordIndex=o,this.last=d},y=a(118),m=new p,w=new g,x=function e(t,a,r,s){var n=this;Object(l.a)(this,e),this.decoyIndex=0,this.textIndex=0,this.setIndex=function(e){n.textIndex=e},this.blockSpawner=function(e,t,a,r,s){var i;for(i=0===e?1:e;i<e+60;i++)if(i>=t.length){var o,l,d,h,c=0,u=void 0,p=void 0;u="decoyWord"===t[i-1].wordType||"spike"===t[i-1].wordType?"decoyWord"===t[i-2].wordType||"spike"===t[i-1].wordType?"textWord":n.spawnWordType(i):"textWord"===t[i-1].wordType&&null!=t[i-2]&&"textWord"===t[i-2].wordType&&null!=t[i-3]&&"textWord"===t[i-3].wordType?"decoyWord":n.spawnWordType(),o=n.spawnBlockType(),0!==c||"textWord"===u&&(c=n.spawnPowerup(n.level));var f=n.attributeWordToBlock(u),x=Object(y.a)(f,3);l=x[0],u=x[1],d=x[2],h=Math.random()*(m.screenWidth-w.width),p="decoyWord"===u||"decoyWord"===t[i-1].wordType?t[i-1].y-(Math.random()*(m.adjustY(50)+r*m.adjustY(10))+m.adjustY(30)+a)*(2/3):"spike"===u?t[i-1].y-(Math.random()*(m.adjustY(50)+r*m.adjustY(10))+m.adjustY(50)+a):"spike"===t[i-1].wordType?t[i-1].y-(Math.random()*(m.adjustY(20)+r*m.adjustY(10))+m.adjustY(10)+a):"sideways"===t[i-1].type||"rising"===t[i-1].type?t[i-1].y-(Math.random()*(m.adjustY(45)+r*m.adjustY(10))+m.adjustY(40)+a):"textWord"===t[i-1].wordType?t[i-1].y-(Math.random()*(m.adjustY(45)+r*m.adjustY(10))+m.adjustY(75)+a):t[i-1].y-(Math.random()*(m.adjustY(45)+r*m.adjustY(10))+m.adjustY(25)+a);var j=!1;if(n.textIndex===s.length){if("decoyWord"==u)break;j=!0}if(n.textIndex>s.length)break;console.log(d);var v=new g(h,p,c,o,l,u,d,j);t.push(v)}for(var b=0;b<e-2;b++)t.shift()},this.spawnPowerup=function(e){var t={easy:{spring:n.config.easy.spring,springBoots:n.config.easy.springBoots,orbBack:n.config.easy.orbBack,orbForward:n.config.easy.orbForward},hard:{spring:n.config.hard.spring,springBoots:n.config.hard.springBoots,orbBack:n.config.hard.orbBack,orbForward:n.config.hard.orbForward}};return 0===Math.round(Math.random()*t[e].spring)?"spring":0===Math.round(Math.random()*t[e].springBoots)?"springBoots":0===Math.round(Math.random()*t[e].orbBackward)?"orbBackward":0===Math.round(Math.random()*t[e].orbForward)?"orbForward":0},this.spawnBlockType=function(){var e=n.config.hard.blockTypeFreq.sideways,t=n.config.hard.blockTypeFreq.rising;return Math.round(Math.random()*e)===e?"sideways":Math.round(Math.random()*t)===t?(console.log("rising block created "+n.textIndex),"rising"):"regular"},this.spawnWordType=function(e){var t=n.config.hard.wordTypeFreq.spike,a=1;return e>5&&Math.round(Math.random()*t)===t?"spike":Math.round(Math.random()*a)===a?"textWord":"decoyWord"},this.attributeWordToBlock=function(e){var t,a;return"textWord"===e?(t=n.mainText[n.textIndex],a=n.textIndex,n.textIndex++):"decoyWord"===e?(t="hard"===n.level?n.decoyText[n.decoyIndex]:n.decoyIndex%2===0?"\u05d1\u05e9\u05de\u05d9\u05dd \u05d4\u05d9\u05d0":"",a=n.decoyIndex,n.decoyIndex++):(a=0,t=""),[t,e,a]},this.level=t,this.mainText=a,this.decoyText=r,this.config=s},j=a(44),v=a.n(j),b=new p,k=function e(t,a,r,s){var n=this;Object(l.a)(this,e),this.x=b.adjustX(300),this.y=b.adjustY(550),this.width=b.adjustX(80),this.height=b.adjustY(80),this.xSpeed=b.adjustX(6.7),this.ySpeed=0,this.springBootsDurability=0,this.orbDurability=0,this.yDistanceTravelled=0,this.direction="left",this.dead=!1,this.win=!1,this.highestWordIndex=0,this.update=function(e,t,a,r,s,i,o){if(n.dead)s.font="bold "+b.adjustX(54)+"px 'BlinkMacSystemFont','Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue'",s.fillStyle="#090524",s.textAlign="center",s.strokeStyle="black",s.lineWidth=1,s.fillText("Game Over:",b.screenWidth/2,b.screenHeight/2),s.strokeText("Game Over:",b.screenWidth/2,b.screenHeight/2),s.font="bold "+b.adjustX(36)+"px 'BlinkMacSystemFont','Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue'",s.fillStyle="#5EFF16",s.fillText("Press 'c' to Continue",b.screenWidth/2,b.screenHeight/2+50),s.strokeText("Press 'c' to Continue",b.screenWidth/2,b.screenHeight/2+50),s.fillText("Press 'n' to Start a New Game",b.screenWidth/2,b.screenHeight/2+100),s.strokeText("Press 'n' to Start a New Game",b.screenWidth/2,b.screenHeight/2+100);else if(n.win)n.ySpeed=0,n.xSpeed=0,s.font="bold "+b.adjustX(45)+"px 'BlinkMacSystemFont','Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue'",s.fillStyle="#090524",s.textAlign="center",s.strokeStyle="black",s.lineWidth=1,s.fillText("Congradulations!",b.screenWidth/2,b.screenHeight/2),s.strokeText("Congradulations!",b.screenWidth/2,b.screenHeight/2),s.font="bold "+b.adjustX(36)+"px 'BlinkMacSystemFont','Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue'",s.fillStyle="#5EFF16",s.fillText("Press 'n' to Start a New Game",b.screenWidth/2,b.screenHeight/2+100),s.strokeText("Press 'n' to Start a New Game",b.screenWidth/2,b.screenHeight/2+100);else{if(n.ySpeed+=n.gravity,n.y<=b.screenHeight/2-b.adjustY(100)&&n.ySpeed<=0)for(var l=0;l<a.length;l++)a[l].y-=n.ySpeed;else n.y+=n.ySpeed;n.yDistanceTravelled-=n.ySpeed}i&&(n.direction="left",n.img.src=v.a,n.moveLeft()),o&&(n.direction="right",n.img.src=v.a,n.moveRight());for(var d=0;d<a.length;d++)n.ySpeed>=0&&n.x>=a[d].x-n.width+b.adjustX(15)&&n.x<=a[d].x+a[d].width-b.adjustX(15)&&n.y>=a[d].y-n.height&&n.y<=a[d].y+a[d].height-n.height&&("decoyWord"===a[d].wordType?a[d].broken=!0:"spike"===a[d].wordType?(n.jump(a,d,e),a[d].wordType="wordText",a[d].word="",a[d].color="red"):(a[d].last&&(console.log("Win"),n.win=!0),n.jump(a,d,e))),n.y>a[d].y&&"spike"===a[d].wordType&&n.x>=a[d].x-n.width+b.adjustX(28)&&n.x<=a[d].x+a[d].width-b.adjustX(28)&&n.y>=a[d].y-a[d].height&&n.y<=a[d].y+a[d].height&&(n.dead=!0);for(var h=a.length-1;h>0;h--)if(a[h].y>b.screenHeight){n.setLowestBlock(h+1),e=h+1;break}(n.y>=a[e].y||n.y>=b.screenHeight)&&(n.dead=!0),e>=45&&(t<0&&(t+=1),n.BSpawn.blockSpawner(e,a,r,t,n.mainText))},this.jump=function(e,t,a){"textWord"===e[t].wordType&&(console.log("high "+n.highestWordIndex),n.highestWordIndex=Math.max(n.highestWordIndex,e[t].wordIndex),console.log("word "+e[t].wordIndex),console.log(Math.max(n.highestWordIndex,e[t].wordIndex)));var r=e[t],s=r.powerup,i=(r.type,r.wordType);if(n.ySpeed=b.adjustY(-11.5),"springBoots"===s&&(n.springBootsDurability=6),"orbBackward"===s&&(n.orbDurability=10),0!==n.orbDurability){for(var o=a;o<e.length;o++){if(e[o].y<=n.y+n.height-e[o].height){r.powerup=0;break}"decoyWord"!==e[o].wordType&&(e[o].passedText=!0)}n.orbDurability-=1}if("orbForward"===s){for(var l=t+1,d=0;d<5;){for(;"decoyWord"===e[l].wordType;)l++;e[l].highlight=!0,l++,d++}r.powerup=0}"textWord"===i&&"spring"===s&&(n.ySpeed=b.adjustY(-14)),0!==n.springBootsDurability&&(n.ySpeed=b.adjustY(-13),n.springBootsDurability-=1)},this.moveLeft=function(){n.x-=n.xSpeed,n.x<=-n.width&&(n.x=b.screenWidth)},this.moveRight=function(){n.x+=n.xSpeed,n.x>=b.screenWidth&&(n.x=-n.width)},this.draw=function(e){e.drawImage(n.img,n.x,n.y,n.width,n.height),0!==n.springBootsDurability&&("right"===n.direction?(e.fillStyle="blue",e.fillRect(n.x+b.adjustX(10),n.y+b.adjustY(66),b.adjustX(15),b.adjustY(10)),e.fillRect(n.x+b.adjustX(33),n.y+b.adjustY(66),b.adjustX(15),b.adjustY(10)),e.fillStyle="grey",e.fillRect(n.x+b.adjustX(10),n.y+b.adjustY(76),b.adjustX(15),b.adjustY(15)),e.fillRect(n.x+b.adjustX(33),n.y+b.adjustY(76),b.adjustX(15),b.adjustY(15))):(e.fillStyle="blue",e.fillRect(n.x+b.adjustX(30),n.y+b.adjustY(66),b.adjustX(15),b.adjustY(10)),e.fillRect(n.x+b.adjustX(53),n.y+b.adjustY(66),b.adjustX(15),b.adjustY(10)),e.fillStyle="grey",e.fillRect(n.x+b.adjustX(30),n.y+b.adjustY(76),b.adjustX(15),b.adjustY(15)),e.fillRect(n.x+b.adjustX(53),n.y+b.adjustY(76),b.adjustX(15),b.adjustY(15))))},this.img=new Image,this.img.src=v.a,this.gravity=t,this.setLowestBlock=a,this.BSpawn=r,this.mainText=s},S=a(115),T=a.n(S),C=new p,B=function e(t,a,r,s,n,i,o,d,h){var c=this;Object(l.a)(this,e),this.holdingLeftKey=!1,this.holdingRightKey=!1,this.dead=!1,this.difficulty=0,this.score=0,this.gravity=C.adjustY(.25),this.lowestBlock=0,this.blocks=[],this.blockOffset=C.adjustY(50),this.fps=60,this.then=Date.now(),this.interval=1e3/this.fps,this.reported=!1,this.id="",this.keydown=function(e){37===e.keyCode?c.holdingLeftKey=!0:39===e.keyCode?c.holdingRightKey=!0:67===e.keyCode&&c.player.dead&&(c.blocks=[],c.lowestBlock=0,c.difficulty=0,c.score=0,c.player.springBootsDurability=0,c.blocks.push(new g),c.blocks[0].x=C.adjustX(300),c.blocks[0].y=C.adjustY(650),c.blocks[0].type=0,c.blocks[0].powerup=0,c.blocks[0].word="",c.reported=!1,c.BSpawn.setIndex(c.player.highestWordIndex),c.BSpawn.blockSpawner(c.lowestBlock,c.blocks,c.blockOffset,c.difficulty,c.mainText),c.player.yDistanceTravelled=0,c.player.x=C.adjustX(300),c.player.y=C.adjustY(550),c.player.dead=!1,c.continueGame()),78===e.keyCode&&(c.player.dead||c.player.win)&&c.newGame()},this.keyup=function(e){37===e.keyCode?c.holdingLeftKey=!1:39===e.keyCode&&(c.holdingRightKey=!1)},this.showScore=function(e,t,a){e>t&&(c.score=Math.round(e)),a.font="bold 36px Arial",a.fillStyle="black",a.textAlign="left",a.fillText(t,18,40)},this.setFirstBlock=function(e){var t=C.adjustX(300),a=C.adjustY(650);e.push(new g(t,a,0,0,""))},this.setLowestBlock=function(e){c.lowestBlock=e},this.exitGame=function(){c.playing=!1},this.loop=function(){if(c.playing&&requestAnimationFrame(c.loop),c.now=Date.now(),c.delta=c.now-c.then,c.delta>c.interval){var e=new Image;e.src=T.a,c.ctx.fillStyle="#ffefe4",c.ctx.fillRect(0,0,C.screenWidth,C.screenHeight),c.ctx.drawImage(e,0,0,C.screenWidth,C.screenHeight),c.ctx.fill();for(var t=0;t<c.blocks.length;t++)c.blocks[t].broken||(c.blocks[t].update(),c.blocks[t].draw(c.ctx));c.player.update(c.lowestBlock,c.difficulty,c.blocks,c.blockOffset,c.ctx,c.holdingLeftKey,c.holdingRightKey),c.player.dead||c.player.draw(c.ctx),c.setIndex(c.player.highestWordIndex),c.showScore(c.player.yDistanceTravelled,c.score,c.ctx),c.ctx.fill(),c.then=c.now-c.delta%c.interval}c.player.dead&&(c.reported,c.reported=!0)},console.log(r),this.mainText=r,this.ctx=t.getContext("2d"),t.width=C.screenWidth,t.height=C.screenHeight,window.addEventListener("keydown",this.keydown,!1),window.addEventListener("keyup",this.keyup,!1),this.config=h,this.BSpawn=new x(a,r,s,this.config),this.level=a,this.setFirstBlock(this.blocks),this.player=new k(this.gravity,this.setLowestBlock,this.BSpawn,this.mainText),this.BSpawn.blockSpawner(this.lowestBlock,this.blocks,this.blockOffset,this.difficulty,this.mainText),this.id=n,this.newGame=i,this.continueGame=o,this.setIndex=d,this.playing=!0,this.loop()},I={Genesis:50,Exodus:40,Leviticus:27,Numbers:36,Deuteronomy:34,Joshua:24,Judges:21,I_Samuel:31,II_Samuel:24,I_Kings:22,II_Kings:25,Isaiah:66,Jeremiah:52,Ezekiel:48,Hosea:14,Joel:4,Amos:9,Obadiah:1,Jonah:4,Micah:7,Nahum:3,Habakkuk:3,Zephaniah:3,Haggai:2,Zechariah:14,Malachi:3,Psalms:150,Proverbs:31,Job:42,Song_of_Songs:8,Ruth:4,Lamentations:5,Ecclesiastes:12,Esther:10,Daniel:12,Ezra:10,Nehemiah:13,I_Chronicles:29,II_Chronicles:36},Y=(a(127),a(313)),W=new u,M=function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).updateCanvas=function(){e.refs.canvas.getContext("2d").fillRect(0,0,100,100)},e.fetchSingleChapterText=function(){var t="https://www.sefaria.org/api/texts/"+e.props.text+"."+e.props.startChapter+"?custom=ashkenazi";return fetch(t).then((function(e){return e.json()})).then((function(t){return t.he=W.removeHTML(t.he),e.props.startVerse&&e.props.endVerse&&(console.log("Haftorah 1 chapater"),t.he=t.he.filter((function(t,a){return a>=e.props.startVerse-1&&a<e.props.endVerse}))),t.he})).then((function(e){return W.stripCantillation(e.join(" "))}))},e.fetchMultiChapterText=function(){var t=e.props.endChapter-e.props.startChapter+1,a=Array.from(new Array(t),(function(t,a){return a+e.props.startChapter}));return Promise.all(a.map((function(t,a){var r="https://www.sefaria.org/api/texts/"+e.props.text+"."+t+"?custom=ashkenazi";return fetch(r).then((function(e){return e.json()})).then((function(e){return W.removeHTML(e.he)}))}))).then((function(t){t[0].splice(0,e.props.startVerse-1),t[t.length-1].splice(e.props.endVerse);var a=t.flat();return console.log(t),console.log("Haftorah 2 chapater"),a})).then((function(e){return W.stripCantillation(e.join(" "))}))},e.generateDecoyWords=function(t,a){for(var r=[],s=[],n=0;n<2;n++){var i=Object.keys(I),o=i[Math.floor(Math.random()*i.length)],l=Math.ceil(Math.random()*I[o]);console.log(o+" "+l),r.push(o),s.push(l)}return Promise.all(r.map((function(e,t){var a="https://www.sefaria.org/api/texts/"+r[t]+"."+s[t]+"?custom=ashkenazi";return fetch(a).then((function(e){return e.json()})).then((function(e){return W.removeHTML(e.he)}))}))).then((function(t){return W.stripCantillation(e.verseListsToCleanedWords(t,a).join(" "))}))},e.verseListsToCleanedWords=function(t,a){var r=t.flat();return r=e.shuffleArray(r.join(" ").split(/[\s\u05BE]+/).filter((function(t){return e.checkOverlap(t,a)})))},e.shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),r=[e[a],e[t]];e[t]=r[0],e[a]=r[1]}return e},e.checkOverlap=function(e,t){var a=t.map((function(e){return e.replace(/[\u0591-\u05C7]/g,"").substring(1)}));if(!(t=t.map((function(e){return e.replace(/[\u0591-\u05C7]/g,"")}))).includes(e)&&!a.includes(e.replace(/[\u0591-\u05C7]/g,"").substring(1))&&!a.includes(e.replace(/[\u0591-\u05C7]/g,""))&&!t.includes(e.replace(/[\u0591-\u05C7]/g,"").substring(1)))return!0},e.setIndex=function(){console.log("Index Set")},e.state={},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;console.log("URL name : "+this.props.text),console.log("URL chapter : "+this.props.startChapter),this.updateCanvas(),this.props.endChapter?(e=this.fetchMultiChapterText(),console.log("multi")):e=this.fetchSingleChapterText(),e.then((function(e){return t.generateDecoyWords(t.props.text,e).then((function(a){console.log(e);new B(t.refs.canvas,t.props.level,e,a,1,t.props.newGame,t.props.continueGame,t.setIndex,Y)}))}))}},{key:"render",value:function(){return window.screen.height,window.screen.height*(5/8),s.a.createElement("canvas",{ref:"canvas",width:0,height:0})}}]),a}(r.Component),X=(a(314),a(116)),H=a.n(X),_=function(e){return s.a.createElement("div",{className:H.a.Modal},e.children)},F=a(5),N=a.n(F),E=function(e){var t=s.a.createElement("h3",null,e.title);return s.a.createElement("div",{className:"col"},e.title&&t,s.a.createElement("button",{className:N.a.Btn+" "+N.a.Config+" "+N.a.Wide,onClick:function(){return e.setConfig(e.response)}},e.children))},O=function(e){var t=s.a.createElement("div",{className:"row"},s.a.createElement(E,{setConfig:e.setParsha,title:"Parshat Hashavua"},e.parsha.textName),s.a.createElement(E,{setConfig:e.setHaftorah,title:"Haftorat Hashavua"},e.haftorah.textName),s.a.createElement("div",{className:"w-100"}),s.a.createElement(E,{setConfig:e.set929,title:"929"},e.nine.textName));return s.a.createElement(_,null,s.a.createElement("h1",null,"Game: \u05d1\u05e9\u05de\u05d9\u05dd \u05d4\u05d9\u05d0"),s.a.createElement("p",null,"Select a text"),t)},R=1,V=2,D=function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).retrieveParsha=function(e,t){var a,s,n=e.calendar_items[t].url.split("-")[0].split("."),i=n[0],o=parseInt(n[1]),l=e.calendar_items[t].displayValue.en.split("-")[0],d=parseInt(e.calendar_items[t].url.split("-")[0].split(".")[2]),h=(e.calendar_items[t].url.split("-")[0].split(".")[0],e.calendar_items[t].url.split("-")[1],e.calendar_items[t].url.split("-")[1]);h.includes(".")?(s=parseInt(h.split(".")[0]),a=parseInt(h.split(".")[1])):(a=parseInt(h),s=o),r.setState({parsha:new P(i,o,l,s,d,a)})},r.retrieveHaftorah=function(e,t){var a,s,n=e.calendar_items[t].url.split("-")[0].split("."),i=n[0],o=parseInt(n[1]),l=e.calendar_items[t].displayValue.en,d=parseInt(e.calendar_items[t].url.split("-")[0].split(".")[2]),h=e.calendar_items[t].url.split("-")[1];h.includes(".")?(s=parseInt(h.split(".")[0]),console.log("haftorah end chapter: "+s),a=parseInt(h.split(".")[1]),console.log("haftorah end chapter: "+a)):(a=parseInt(h),s=o),r.setState({haftorah:new P(i,o,l,s,d,a)})},r.retrieve929=function(e,t){var a=e.calendar_items[t].url.split("-")[0].split("."),s=a[0],n=parseInt(a[1]),i=e.calendar_items[t].displayValue.en,o=e.calendar_items[t].url.split("-")[0].split(".")[0]+e.calendar_items[t].url.split("-")[1];r.setState({nine:new P(s,n,i,o)})},r.setParsha=function(){r.setState({textUrlName:r.state.parsha.textUrlName,startChapter:r.state.parsha.startChapter,startVerse:r.state.parsha.startVerse,endChapter:r.state.parsha.endChapter,endVerse:r.state.parsha.endVerse,gameState:V})},r.setHaftorah=function(){r.setState({textUrlName:r.state.haftorah.textUrlName,startChapter:r.state.haftorah.startChapter,startVerse:r.state.haftorah.startVerse,endChapter:r.state.haftorah.endChapter,endVerse:r.state.haftorah.endVerse,gameState:V})},r.set929=function(){r.setState({textUrlName:r.state.nine.textUrlName,startChapter:r.state.nine.startChapter,gameState:V})},r.setGameDefault=function(){r.setState({textUrlName:"",startChapter:"Chapters",textName:"Sefarim",startVerse:0,endChapter:0,endVerse:0,level:"",gameNumber:r.state.gameNumber+1,gameState:R})},r.continueGame=function(){console.log("Continue game")},r.state={textUrlName:"",startChapter:"Chapters",startVerse:0,endChapter:0,endVerse:0,textName:"Sefarim",parsha:new P("",0,"",0),haftorah:new P("",0,"",0),nine:new P("",0,"",0),gameState:R},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;return fetch("https://www.sefaria.org/api/calendars").then((function(e){return e.json()})).then((function(t){e.retrieveParsha(t,t.calendar_items.findIndex((function(e){return"Parashat Hashavua"===e.title.en}))),e.retrieveHaftorah(t,t.calendar_items.findIndex((function(e){return"Haftarah"===e.title.en}))),e.retrieve929(t,t.calendar_items.findIndex((function(e){return"929"===e.title.en}))),e.setGameDefault()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e;return this.state.gameState==R?e=s.a.createElement(O,{setParsha:this.setParsha,parsha:this.state.parsha,setHaftorah:this.setHaftorah,haftorah:this.state.haftorah,set929:this.set929,nine:this.state.nine,textUrlName:this.state.textUrlName,startChapter:this.state.startChapter}):this.state.gameState==V&&(e=s.a.createElement(M,{level:"hard",newGame:this.setGameDefault,continueGame:this.continueGame,text:this.state.textUrlName,startChapter:this.state.startChapter,endChapter:this.state.endChapter,startVerse:this.state.startVerse,endVerse:this.state.endVerse})),s.a.createElement("div",null,e)}}]),a}(r.Component),P=function e(t,a,r,s){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(l.a)(this,e),this.textUrlName=t,this.startChapter=a,this.textName=r,this.endChapter=s,this.startVerse=n,this.endVerse=i};var U=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App"},s.a.createElement(o.c,null,s.a.createElement(o.a,{path:"/",component:D}))))},L=a(41);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(L.a,null,s.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,a){e.exports=a.p+"static/media/SRHirsch.0135d99e.png"},5:function(e,t,a){e.exports={Btn:"Buttons_Btn__D111h",Answer:"Buttons_Answer__23L2T",Big:"Buttons_Big__2sODL",Config:"Buttons_Config__1xkX0",Small:"Buttons_Small__3Rynh",Wide:"Buttons_Wide__EnYXk"}}},[[119,1,2]]]);
//# sourceMappingURL=main.37107e77.chunk.js.map